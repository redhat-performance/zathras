# GCP CI Test Scenario
# This scenario is used by GitHub Actions to validate Zathras on GCP
# Runs a standard test suite: linpack, streams, and fio benchmarks

global:
  system_type: gcp
  # GCP OS ID should be set via environment variable or passed as parameter
  # cloud_os_id: projects/rhel-cloud/global/images/family/rhel-9 (set in workflow)
  # ssh_key_file: /path/to/key
  terminate_cloud: 1  # Always clean up resources after testing
  cloud_region: us-central1
  cloud_zone: us-central1-a
  # GCP doesn't use spot_max_price the same way, but we can use preemptible instances
  use_spot: 1

systems:
  ci_test_system:
    # Standard medium instance for testing
    host_config: "n2-standard-4:Disks;number=1;size=100;type=pd-ssd"
    tests: linpack,streams,fio

    # Test-specific overrides for faster CI runs
    linpack:
      linpack_run_time: 300  # 5 minutes instead of default

    streams:
      streams_run_time: 180  # 3 minutes

    fio:
      fio_runtime: 60  # 1 minute per test
      fio_test_types: "read,write,randread,randwrite"  # Standard I/O patterns
